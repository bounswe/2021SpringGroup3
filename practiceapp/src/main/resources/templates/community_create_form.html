<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"></script>
</head>
<body>
<a href="/home" class="btn btn-primary" style="margin:15px">Back to Home</a>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-head">
        <div class="headerType1">
          <h2 style="margin: 0;padding: 19px;padding-bottom: 15px";> New Community </h2>
        </div>
      </div>
      <!-- Header of the form -->
      <div class="card-body">
        <div class="container">
            <form action="#" th:action="@{/home/communities/create}"  onsubmit="return checkFields()" method="post" th:object="${community}">
              <div class="form-row">
                <div class="form-group col-md-4">
                  <label class="control-label"> Name </label><br>
                  <input type="text" th:field="*{name}" placeholder="name" value="">
                </div>
                <!-- Field for name -->
                <div class="form-group col-md-4 ">
                  <th style="width:12.5%;">Publicity</th><br>
                  <td style="width:100%;">
                  <select th:field="*{publicity}" class="selectpicker">
                    <option th:value=true selected="selected" type="text" th:field="*{publicity}" placeholder="publicity"> public </option>
                    <option th:value=false selected="selected" type="text" th:field="*{publicity}" placeholder="publicity"> private </option>
                  </select>
                </div>
                <!-- Field for publicity -->
              </div>
              <div class="form-row">
                <div class="form-group col-md-4 ">
                  <label class="control-label"> Description </label><br>
                  <input type="text" th:field="*{description}" placeholder="description" value="">
                </div>
              </div>
              <div class="form-row">
                <div class="col-auto my-1 buttonContainer">
                  <button id="btn-create" type="submit" class="btn btn-success"> Create </button>
                </div>
                <!-- Button for submitting form -->
              </div>
            </form>
        </div>
      </div>
      <!-- Body of the form -->
    </div>
  </div>
</div>

<script type="text/javascript">

  // If one of the fields is empty, prevents submitting the form.
  function checkFields() {
    let name = $("#username").val()
    let description = $("#password").val()

    if (name == "" || description == "" ) {
      alert("Name or description cannot be empty!");
      return false;
    }
    else {
      return true;
    }
  };

</script>


</body>
</html>
